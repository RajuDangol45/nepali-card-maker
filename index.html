<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Festival Card Builder - Dashain & Tihar Edition</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gifshot@0.4.5/dist/gifshot.min.js"></script>
</head>
<body>
    <div id="app">
        <!-- Landing Page -->
        <section id="landing" class="section active">
            <div class="container">
                <header>
                    <div class="language-toggle">
                        <button id="langToggle" class="lang-btn">‡§®‡•á‡§™‡§æ‡§≤‡•Ä</button>
                    </div>
                </header>
                
                <main class="hero">
                    <h1 id="mainTitle" class="hero-title">Festival Card Builder</h1>
                    <h2 id="subtitle" class="hero-subtitle">Create Beautiful Dashain & Tihar Cards</h2>
                    <p id="description" class="hero-description">
                        Create personalized greeting cards with your name, photo, and custom wishes. 
                        Share instantly with family and friends!
                    </p>
                    
                    <div class="countdown" id="countdown">
                        <h2 style="color: white; text-align: center; margin-bottom: 20px; font-size: 1.2em;"></h2>
                        <div class="countdown-item">
                            <span class="countdown-number" id="days">00</span>
                            <span class="countdown-label" id="daysLabel">Days</span>
                        </div>
                        <div class="countdown-item">
                            <span class="countdown-number" id="hours">00</span>
                            <span class="countdown-label" id="hoursLabel">Hours</span>
                        </div>
                        <div class="countdown-item">
                            <span class="countdown-number" id="minutes">00</span>
                            <span class="countdown-label" id="minutesLabel">Minutes</span>
                        </div>
                        <div class="countdown-item">
                            <span class="countdown-number" id="seconds">00</span>
                            <span class="countdown-label" id="secondsLabel">Seconds</span>
                        </div>
                    </div>
                    
                    <button id="startBtn" class="cta-btn">
                        <span id="ctaText">Make Your Dashain Card üéä</span>
                    </button>
                </main>
                
                <div class="festival-icons">
                    <div class="icon">ü™Å</div>
                    <div class="icon">üèÆ</div>
                    <div class="icon">üéÜ</div>
                    <div class="icon">‚ú®</div>
                    <div class="icon">üå∫</div>
                </div>
            </div>
        </section>

        <!-- Card Builder -->
        <section id="builder" class="section">
            <div class="container">
                <header class="builder-header">
                    <button id="backBtn" class="back-btn">‚Üê Back</button>
                    <h2 id="builderTitle">Create Your Festival Card</h2>
                    <div class="language-toggle">
                        <button id="langToggle2" class="lang-btn">‡§®‡•á‡§™‡§æ‡§≤‡•Ä</button>
                    </div>
                </header>
                
                <div class="builder-content">
                    <div class="templates-section">
                        <h3 id="templatesTitle">Choose a Template</h3>
                        <div class="template-grid" id="templateGrid">
                            <!-- Templates will be populated by JavaScript -->
                        </div>
                    </div>
                    
                    <div class="customization-section">
                        <h3 id="customizeTitle">Customize Your Card</h3>
                        <div class="form-group">
                            <label for="nameInput" id="nameLabel">Your Name:</label>
                            <input type="text" id="nameInput" placeholder="Enter your name">
                        </div>
                        
                        <div class="form-group">
                            <label for="wishSelector" id="wishSelectorLabel">Choose Your Wish:</label>
                            <div class="wish-selection-container">
                                <div class="wish-type-selector">
                                    <button type="button" id="predefinedWishBtn" class="wish-type-btn active">Select from Messages</button>
                                    <button type="button" id="customWishBtn" class="wish-type-btn">Write Custom</button>
                                </div>
                                
                                <div id="predefinedWishSection" class="wish-section active">
                                    <select id="wishSelector">
                                        <option value="">Select a traditional message...</option>
                                        <option value="en1">May this blessed Dashain bring happiness, prosperity and good health to you and your family!</option>
                                        <option value="en2">Wishing you a joyous Dashain filled with love, laughter and divine blessings!</option>
                                        <option value="en3">May Goddess Durga shower you with strength, wisdom and endless happiness this Dashain!</option>
                                        <option value="en4">Happy Dashain! May this festival of victory illuminate your path to success and joy!</option>
                                        <option value="en5">Sending warm Dashain wishes for peace, prosperity and wonderful moments with loved ones!</option>
                                        <option value="ne1">‡§¶‡§∂‡•à‡§Ç‡§ï‡•ã ‡§Ø‡•ã ‡§™‡§æ‡§µ‡§® ‡§™‡§∞‡•ç‡§µ‡§≤‡•á ‡§§‡§™‡§æ‡§à‡§Ç‡§ï‡•ã ‡§ú‡•Ä‡§µ‡§®‡§Æ‡§æ ‡§ñ‡•Å‡§∂‡•Ä, ‡§∂‡§æ‡§®‡•ç‡§§‡§ø ‡§∞ ‡§∏‡§Æ‡•É‡§¶‡•ç‡§ß‡§ø ‡§≤‡•ç‡§Ø‡§æ‡§ì‡§∏‡•ç!</option>
                                        <option value="ne2">‡§µ‡§ø‡§ú‡§Ø‡§æ ‡§¶‡§∂‡§Æ‡•Ä‡§ï‡•ã ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ! ‡§Æ‡§æ‡§Å ‡§¶‡•Å‡§∞‡•ç‡§ó‡§æ‡§ï‡•ã ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§æ‡§¶ ‡§∏‡§ß‡•à‡§Ç ‡§§‡§™‡§æ‡§à‡§Ç‡§Æ‡§æ‡§•‡§ø ‡§∞‡§π‡•ã‡§∏‡•ç!</option>
                                        <option value="ne3">‡§Ø‡•ã ‡§¶‡§∂‡•à‡§Ç‡§≤‡•á ‡§§‡§™‡§æ‡§à‡§Ç‡§ï‡•ã ‡§ò‡§∞-‡§™‡§∞‡§ø‡§µ‡§æ‡§∞‡§Æ‡§æ ‡§∏‡•Å‡§ñ, ‡§∏‡§Æ‡•É‡§¶‡•ç‡§ß‡§ø ‡§∞ ‡§â‡§§‡•ç‡§∏‡§æ‡§π‡§ï‡•ã ‡§µ‡§æ‡§§‡§æ‡§µ‡§∞‡§£ ‡§≤‡•ç‡§Ø‡§æ‡§ì‡§∏‡•ç!</option>
                                        <option value="ne4">‡§¶‡§∂‡•à‡§Ç‡§ï‡•ã ‡§§‡§ø‡§π‡§æ‡§∞‡§ï‡•ã ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§Æ‡§Ç‡§ó‡§≤‡§Æ‡§Ø ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ! ‡§ú‡•Ä‡§µ‡§®‡§Æ‡§æ ‡§®‡§Ø‡§æ‡§Å ‡§â‡§Æ‡§Ç‡§ó ‡§∞ ‡§â‡§§‡•ç‡§∏‡§æ‡§π ‡§Ü‡§ì‡§∏‡•ç!</option>
                                        <option value="ne5">‡§∂‡•Å‡§≠ ‡§¶‡§∂‡•à‡§Ç! ‡§Ø‡§∏ ‡§Æ‡§π‡§æ‡§® ‡§™‡§∞‡•ç‡§µ‡§≤‡•á ‡§§‡§™‡§æ‡§à‡§Ç‡§ï‡§æ ‡§∏‡§¨‡•à ‡§Æ‡§®‡•ã‡§ï‡§æ‡§Æ‡§®‡§æ ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§ó‡§∞‡•ã‡§∏‡•ç!</option>
                                    </select>
                                </div>
                                
                                <div id="customWishSection" class="wish-section">
                                    <textarea id="wishInput" placeholder="Enter your personalized wish"></textarea>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="photoInput" id="photoLabel">Upload Photo (Optional):</label>
                            <input type="file" id="photoInput" accept="image/*">
                            <button id="removePhotoBtn" class="btn-remove" style="display: none;"><span id="removePhotoText">Remove Photo</span></button>
                        </div>
                        
                        <div class="form-group">
                            <h4 id="fontSettingsTitle">Font Settings</h4>
                            <div class="font-controls">
                                <div class="font-control-row">
                                    <label for="fontFamily" id="fontFamilyLabel">Font:</label>
                                    <select id="fontFamily">
                                        <option value="Arial">Arial</option>
                                        <option value="Georgia">Georgia</option>
                                        <option value="Times New Roman">Times New Roman</option>
                                        <option value="Helvetica">Helvetica</option>
                                        <option value="Verdana">Verdana</option>
                                        <option value="Trebuchet MS">Trebuchet MS</option>
                                        <option value="Comic Sans MS">Comic Sans MS</option>
                                    </select>
                                </div>
                                
                                <div class="font-control-row">
                                    <label for="fontSize" id="fontSizeLabel">Size:</label>
                                    <input type="range" id="fontSize" min="12" max="60" value="36">
                                    <span id="fontSizeValue">36px</span>
                                </div>
                                
                                <div class="font-control-row">
                                    <label for="fontColor" id="fontColorLabel">Color:</label>
                                    <input type="color" id="fontColor" value="#ffffff">
                                </div>
                                
                                <div class="font-control-row">
                                    <label id="fontStyleLabel">Style:</label>
                                    <div class="font-style-buttons">
                                        <button type="button" id="boldBtn" class="font-style-btn">B</button>
                                        <button type="button" id="italicBtn" class="font-style-btn">I</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <button id="resetCardBtn" class="btn-reset">
                                <span id="resetText">Reset Card</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="preview-section">
                    <h3 id="previewTitle">Preview</h3>
                    <div class="preview-controls">
                        <button id="playPauseBtn" class="preview-control-btn">
                            <span id="playPauseText">‚è∏Ô∏è Pause</span>
                        </button>
                    </div>
                    <div id="cardPreview" class="card-preview">
                        <canvas id="cardCanvas" width="400" height="600"></canvas>
                    </div>
                    
                    <div class="action-buttons">
                        <button id="downloadBtn" class="btn-primary">
                            <span id="downloadText">Download PNG</span>
                        </button>
                        <button id="downloadGifBtn" class="btn-gif">
                            <span id="downloadGifText">Download GIF</span>
                            <span class="beta-badge">BETA</span>
                        </button>
                        <button id="shareBtn" class="btn-secondary">
                            <span id="shareText">Share Card</span>
                        </button>
                    </div>
                    
                    <div id="gifProgress" class="gif-progress" style="display: none;">
                        <div class="progress-bar">
                            <div id="progressFill" class="progress-fill"></div>
                        </div>
                        <span id="progressText" class="progress-text">Generating GIF...</span>
                    </div>
                </div>
            </div>
        </section>
    </div>
    
    <div id="shareModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3 id="shareModalTitle">Share Your Card</h3>
            <div class="share-options">
                <button class="share-btn whatsapp" data-platform="whatsapp">
                    üì± WhatsApp
                </button>
                <button class="share-btn facebook" data-platform="facebook">
                    üìò Facebook
                </button>
                <button class="share-btn messenger" data-platform="messenger">
                    üí¨ Messenger
                </button>
            </div>
        </div>
    </div>

    <!-- Load modular templates -->
    <script src="templates/dashain4-peaceful-blessings.js"></script>
    <script src="templates/dashain5-durga-grace.js"></script>
    <script src="templates/template-manager.js"></script>
    <script src="script.js"></script>
</body>
</html>